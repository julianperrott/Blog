﻿<!DOCTYPE html>




<html class="no-js">
 
<head>
	<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
	<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
	<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
	<link rel="manifest" href="/manifest.json">
	<meta name="msapplication-TileColor" content="#ffc40d">
	<meta name="theme-color" content="#ffffff">
	
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>CodesIn.net - Ingress Intel Total Conversion - JavaScript Plugin</title>
    <meta name="description" content="...">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    
    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
    <link href="/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/animate.css" rel="stylesheet">

    
    <script src="/js/modernizr-2.6.2.min.js"></script>
    
    <link href='http://fonts.googleapis.com/css?family=Titillium+Web:200,300,400,600,700,900' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900' rel='stylesheet' type='text/css'>
	
	<link rel="stylesheet" href="/css/ir_black.css">
	<script src="/js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	
    <script>
		var mainColor = 'blue';
    </script>
</head>

<body>
    
    <div id="wrapper">
        <section id="blog" class="subpage detail">

            
            <header class="font-white striped-image" style="background-image: url(/img/bg_ingress_1920x800.jpg);">
                <div class="container">
    <div class="row">
        <a href="#contact" class="logo wow bounceInDown" data-wow-duration="1s" data-wow-delay=".5s">
            <div class="wrap" style="border: 0;padding-bottom:0;margin-bottom:0">
                <img src="/img/logo.png" width="100" />
            </div>
        </a>
        <div class="col-sm-8 col-sm-offset-2 wow fadeInDown">
            <h1>codesin.net</h1>
            <div class="dotted-break"></div>
            <h2>A blog about coding - by Julian Perrott</h2>

            <blockquote>
                <p title="We have to experience something ourselves in order to really understand it. If we are hearing something it might be interesting. If we are seeing something it might be beautiful. But only if we have it happening to ourselves - actively doing it - we can really know how it is."
                   data-toggle="tooltip" data-placement="top">
                    "I hear and I forget. I see and I remember. I do and I understand." - Confucius
                </p>
            </blockquote>
        </div>
    </div>
</div>
            </header>

            <div class="container">
                
                <div class="row articles">

                    
                    <article class="col-xs-12 article">
                        <div class="row">
                            <div class="col-lg-2 visible-lg asideArticleInfo">
                                <div class="date">
                                    <div class="day">20</div>
                                    <div class="month">Oct 2014</div>
                                </div>
                                <div class="comments">
                                    <i class="fa fa-comments"></i> <span class="disqus-comment-count" data-disqus-identifier="Ingress-Intel-Total-Conversion-JavaScript-Plugin"></span>
                                </div>
                            </div>
                            <div class="col-lg-10">
                                <h2 class="title">Ingress Intel Total Conversion - JavaScript Plugin</h2>
                                <div class="articleInfo clearfix">
                                    <div class="i hidden-lg">Post date: <strong>Mon, Oct 20, 2014</strong></div>
                                    
                                    <br />
									
									

                                </div>
                                <p>
    <a href="https://www.ingress.com/">Ingress</a>
    is a game where real world locations are defined as portals. These portals can be linked to other portals. When 3 portals are linked in a triangle a "field" is created. These fields score "points" for your team.
</p> <p>
    <a href="http://iitc.jonatkins.com/">Ingress Intel Total Conversion</a> is a browser add-on that modifies the standard ingress Intel map, offering more features. One feature it allows is new functionality in the form of JavaScript plug-ins.
    <br>
</p>
<h2>The Objective</h2> <p>
    I thought it might be useful to see on the map, fields which have already 2 of their sides completed, and to indicate the link which would complete them.
</p> <p>
    For example: in the image below we can see existing fields, we can also see that linking portal 1 to 3 would create a field. Sometimes these fields links are less obvious.
</p> <p>
    One of the rules of linking portals is that a new link may not cross an existing link. So portal 4 could not be linked to 3 because it would cross the 1 to 2 link.
</p> <p>
    <a href="/post/img/Test1.png" target="_blank">
        <img title="Test1" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="Test1" src="/post/img/Test1.png" width="869" height="425">
    </a>
</p>
<h2>The Algorithm</h2> <p>To determine these "field finishing" links:</p>
<ul>
    <li>Make a list of all existing links between portals.
    <li>For each portal owned by your team move across all of its existing links(if it has any) to the next portal (e.g. 1 to 2), repeat from that portal to the next (e.g. 2 to 3)
    <li>
        For all of the paths found check if the link back to the first portal (e.g. 3 to 1) can be made without crossing any link in the list of portal links made earlier.
    </li>
</ul> <p>
    The complicated bit is determining if two line segments cross, thankfully Martin Thoma has a great site with some JavaScript code which I have included in the algorithm.
</p> <p>
    <a title="http://martin-thoma.com/how-to-check-if-two-line-segments-intersect/" href="http://martin-thoma.com/how-to-check-if-two-line-segments-intersect/">
        http://martin-thoma.com/how-to-check-if-two-line-segments-intersect/
    </a>
</p>
<h2>The Plug-in</h2> <p>
    Once the required links have been determined they need to be represented on the map. This done by drawing on a new map layer called 'Field Finisher', the links are indicated using red dotted lines.
</p> <p>
    <a href="/post/img/Plugin.png" target="_blank">
        <img title="Plugin" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="Plugin" src="/post/img/Plugin.png" width="887" height="430">
    </a>
</p> <p> <p>
    The algorithm has been unit tested using <a href="http://jasmine.github.io/">Jasmine</a>
</p> <p>
    The plug-in code can be download here
    <a href="/post/content/ingress/field-finisher.user.js">
        field-finisher.user.js
    </a>
</p>

                            </div>
                        </div>
                    </article>
                    
                    
					 <div class="row">
                    <div class="col-xs-12 articleComments">
                            <div id="disqus_thread"></div>
                            <script type="text/javascript">
							    
                                var disqus_shortname = 'codesindotnet';
                                var disqus_identifier = 'Ingress-Intel-Total-Conversion-JavaScript-Plugin';
                                (function () {
                                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                                })();
                            </script>
                            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                            <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
                        </div>
                    </div>

                    

                </div>
            </div>
        </section>


        
<section id="contact">
    <div class="container">
        
        <header class="font-white">
            <div class="row">
                <div class="col-sm-8 col-sm-offset-2 wow fadeInDown">
                    <h1>Contact me</h1>
                    <div class="dotted-break"></div>
                    <h2>Say Hello !</h2>
                </div>
            </div>
        </header>
        
        <div class="row">
            <div class="col-xs-12 info" style="font-size: 20px;">
                <span class="wow fadeInRight" data-wow-delay="0.2s"><i class="fa fa-location-arrow icon"></i> I Live in Milton Keynes, United Kingdom</span>
                <span class="wow fadeInRight" data-wow-delay="0.4s"><i class="fa fa-envelope-o icon"></i>
               <a href="mailto:julian.perrott@gmail.com?Subject=Hello, Julian">julian.perrott@gmail.com</a></span>
            </div>
        </div>

        <div id="contactfooter">

            
            <div class="social">
                <a href="http://uk.linkedin.com/in/julianperrott1" data-toggle="tooltip" data-placement="bottom" title="linked In" class="icon"><i class="fa fa-3x fa-linkedin"></i></a>
                <a href="https://github.com/julianperrott" data-toggle="tooltip" data-placement="bottom" title="GitHub" class="icon"><i class="fa fa-3x fa-github"></i></a>
                <a href="https://www.facebook.com/julianperrott" data-toggle="tooltip" data-placement="bottom" title="Facebook" class="icon"><i class="fa fa-3x fa-facebook"></i></a>
            </div>
        </div>
    </div>
</section>
        
<div class="googleMapWrap">
    <div id="googleMap" class="wow flipInX" data-lat="52.040622" data-lng="-0.759417"></div>
</div>


        <footer id="footer">
            <div>Bootstrap Theme Designed by: <a href="http://jurajmolnar.com" title="#" target="_blank">Juraj Molnár</a></div>
            <div><a href="http://gohugo.io/" target="_blank">Hugo</a> theme created by: Julian Perrott</div>
        </footer>

    </div>
    
<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="/bootstrap/js/bootstrap.min.js"></script>
<script src="/js/jquery.easing.1.3.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/parsley.min.js"></script>
<script src="/js/jquery.shuffle.min.js"></script>
<script src="/js/wow.min.js"></script>
<script src="/js/jquery.easypiechart.min.js"></script>
<script src="/js/jquery.countTo.js"></script>
<script src="/js/waypoints.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&amp;sensor=false"></script>


<script src="/js/portfolio.js"></script>
<script src="/js/script.js"></script>


    <link rel="stylesheet" href="/css/options.css">

    <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-59171735-1', 'auto');
          ga('send', 'pageview');
</script>

    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>

	
	<script type="text/javascript">
	  
	  
	 (function () {
	 var s = document.createElement('script'); s.async = true;
	 s.type = 'text/javascript';
	 s.src = '//' + disqus_shortname + '.disqus.com/count.js';
	 (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
	 }());
 </script> 
	
</body>
</html>